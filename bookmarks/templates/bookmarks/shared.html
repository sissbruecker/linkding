{% extends "bookmarks/layout.html" %}
{% load static %}
{% load shared %}
{% load bookmarks %}

{% block content %}
  <div class="bookmarks-page grid columns-md-1">

    {# Bookmark list #}
    <section class="content-area col-2">
      <div class="content-area-header">
        <h2>Shared bookmarks</h2>
        <div class="header-controls">
          {% bookmark_search bookmark_list.search tag_cloud.tags mode='shared' %}
          <button ld-fetch="{{ bookmark_list.tag_modal_url }}" ld-target="body|append" ld-on="click"
                  class="btn ml-2 show-md">Tags
          </button>
        </div>
      </div>

      <form ld-form ld-fire="refresh-bookmark-list,refresh-tag-cloud"
            class="bookmark-actions"
            action="{{ bookmark_list.action_url|safe }}"
            method="post" autocomplete="off">
        {% csrf_token %}
        <div ld-fetch="{{ bookmark_list.refresh_url }}" ld-on="refresh-bookmark-list"
             ld-fire="refresh-bookmark-list-done"
             class="bookmark-list-container">
          {% include 'bookmarks/bookmark_list.html' %}
        </div>
      </form>
    </section>

    {# Filters #}
    <section class="content-area col-1 hide-md">
      <div class="content-area-header">
        <h2>User</h2>
      </div>
      <div>
        {% user_select bookmark_list.search users %}
        <br>
      </div>
      <div class="content-area-header">
        <h2>Tags</h2>
      </div>
      <div ld-fetch="{{ tag_cloud.refresh_url }}" ld-on="refresh-tag-cloud"
           class="tag-cloud-container">
        {% include 'bookmarks/tag_cloud.html' %}
      </div>
    </section>
  </div>
{% endblock %}
