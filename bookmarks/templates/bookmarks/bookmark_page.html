{% extends "shared/layout.html" %}
{% load static shared bookmarks %}
{% block content %}
  <ld-bookmark-page {% if not bookmark_list.bulk_edit_enabled %}no-bulk-edit{% endif %}
                    class="bookmarks-page grid columns-md-1 {% if bookmark_list.collapse_side_panel %}collapse-side-panel{% endif %}">
    {# Bookmark list #}
    <main class="main col-2" aria-labelledby="main-heading">
      <div class="section-header {% if bookmark_list.bulk_edit_enabled %}mb-0{% endif %}">
        <h1 id="main-heading">{{ bookmark_list.list_title }}</h1>
        <div class="header-controls">
          {% bookmark_search bookmark_list.search mode=bookmark_list.search_mode %}
          {% if bookmark_list.bulk_edit_enabled %}
            <button class="btn hide-sm ml-2 bulk-edit-active-toggle" title="Bulk edit">
              <svg xmlns="http://www.w3.org/2000/svg"
                   width="20px"
                   height="20px"
                   viewBox="0 0 24 24"
                   fill="none"
                   stroke="currentColor"
                   stroke-width="2"
                   stroke-linecap="round"
                   stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                <path d="M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1" />
                <path d="M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z" />
                <path d="M16 5l3 3" />
              </svg>
            </button>
          {% endif %}
          <ld-filter-drawer-trigger>
            <button class="btn ml-2">Filters</button>
          </ld-filter-drawer-trigger>
        </div>
      </div>
      <form class="bookmark-actions"
            action="{{ bookmark_list.action_url|safe }}"
            method="post"
            autocomplete="off">
        {% csrf_token %}
        {% if bookmark_list.bulk_edit_enabled %}
          {% include 'bookmarks/bulk_edit_bar.html' %}
        {% endif %}
        <div id="bookmark-list-container">{% include 'bookmarks/bookmark_list.html' %}</div>
      </form>
    </main>
    {# Filters #}
    <div class="side-panel col-1 hide-md">
      {% if bundles %}
        {% include 'bookmarks/bundle_section.html' %}
      {% endif %}
      {% if user_list %}
        {% include 'bookmarks/user_section.html' %}
      {% endif %}
      {% include 'bookmarks/tag_section.html' %}
    </div>
  </ld-bookmark-page>
{% endblock %}
{% block overlays %}
  {% include 'bookmarks/details/modal.html' %}
{% endblock %}
